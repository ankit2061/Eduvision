INFO:     Will watch for changes in these directories: ['/Users/ankittalukder/Desktop/Diversion/Eduvision']
INFO:     Uvicorn running on http://0.0.0.0:8000 (Press CTRL+C to quit)
INFO:     Started reloader process [51360] using WatchFiles
INFO:     Started server process [51364]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
INFO:     127.0.0.1:65169 - "OPTIONS /auth/me HTTP/1.1" 200 OK
INFO:     127.0.0.1:65169 - "OPTIONS /lesson/library HTTP/1.1" 200 OK
INFO:     127.0.0.1:65176 - "OPTIONS /teacher/class/insights HTTP/1.1" 200 OK
2026-02-27 21:38:35.738 | INFO     | app.dependencies:_fetch_jwks:32 - [Auth0] JWKS fetched and cached.
2026-02-27 21:38:35.748 | INFO     | app.dependencies:_fetch_jwks:32 - [Auth0] JWKS fetched and cached.
2026-02-27 21:38:35.761 | INFO     | app.dependencies:_fetch_jwks:32 - [Auth0] JWKS fetched and cached.
INFO:     127.0.0.1:65176 - "GET /lesson/library HTTP/1.1" 200 OK
INFO:     127.0.0.1:65178 - "GET /teacher/class/insights HTTP/1.1" 200 OK
INFO:     127.0.0.1:65169 - "GET /auth/me HTTP/1.1" 200 OK
INFO:     127.0.0.1:65160 - "GET /lesson/library HTTP/1.1" 200 OK
INFO:     127.0.0.1:65162 - "GET /auth/me HTTP/1.1" 200 OK
INFO:     127.0.0.1:65159 - "GET /teacher/class/insights HTTP/1.1" 200 OK
INFO:     127.0.0.1:49251 - "OPTIONS /lesson/generate HTTP/1.1" 200 OK
2026-02-27 21:39:28.618 | INFO     | app.services.gemini:generate_lesson:40 - [Gemini] Generating lesson: topic=Biology, grade=5, tiers=3
2026-02-27 21:39:29.127 | ERROR    | app.routers.lesson:generate_lesson:47 - [Lesson] Gemini error: Error code: 402 - {'error': {'message': 'Insufficient credits. This account never purchased credits. Make sure your key is on the correct account or org, and if so, purchase more at https://openrouter.ai/settings/credits', 'code': 402}}
INFO:     127.0.0.1:49251 - "POST /lesson/generate HTTP/1.1" 502 Bad Gateway
INFO:     127.0.0.1:50031 - "OPTIONS /auth/me HTTP/1.1" 200 OK
INFO:     127.0.0.1:50032 - "OPTIONS /lesson/library HTTP/1.1" 200 OK
INFO:     127.0.0.1:50033 - "OPTIONS /teacher/class/insights HTTP/1.1" 200 OK
INFO:     127.0.0.1:50032 - "GET /lesson/library HTTP/1.1" 200 OK
INFO:     127.0.0.1:50031 - "GET /auth/me HTTP/1.1" 200 OK
INFO:     127.0.0.1:50033 - "GET /teacher/class/insights HTTP/1.1" 200 OK
